'Hoang'
SELECT 'Hoang' AS res
==============================================
5
SELECT 5 AS res
==============================================
false
SELECT FALSE AS res
==============================================
4=4
SELECT TEMP_LEFT.res = TEMP_RIGHT.res AS res FROM (SELECT 4 AS res) AS TEMP_LEFT JOIN (SELECT 4 AS res) AS TEMP_RIGHT
==============================================
4<>3
SELECT TEMP_LEFT.res <> TEMP_RIGHT.res AS res FROM (SELECT 4 AS res) AS TEMP_LEFT JOIN (SELECT 3 AS res) AS TEMP_RIGHT
==============================================
1>0
SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res FROM (SELECT 1 AS res) AS TEMP_LEFT JOIN (SELECT 0 AS res) AS TEMP_RIGHT
==============================================
1<0
SELECT TEMP_LEFT.res < TEMP_RIGHT.res AS res FROM (SELECT 1 AS res) AS TEMP_LEFT JOIN (SELECT 0 AS res) AS TEMP_RIGHT
==============================================
1>=0
SELECT TEMP_LEFT.res >= TEMP_RIGHT.res AS res FROM (SELECT 1 AS res) AS TEMP_LEFT JOIN (SELECT 0 AS res) AS TEMP_RIGHT
==============================================
1<=0
SELECT TEMP_LEFT.res <= TEMP_RIGHT.res AS res FROM (SELECT 1 AS res) AS TEMP_LEFT JOIN (SELECT 0 AS res) AS TEMP_RIGHT
==============================================
true and false
SELECT TEMP_LEFT.res AND TEMP_RIGHT.res AS res FROM (SELECT TRUE AS res) AS TEMP_LEFT JOIN (SELECT FALSE AS res) AS TEMP_RIGHT
==============================================
true or false
SELECT TEMP_LEFT.res OR TEMP_RIGHT.res AS res FROM (SELECT TRUE AS res) AS TEMP_LEFT JOIN (SELECT FALSE AS res) AS TEMP_RIGHT
==============================================
true xor false
SELECT TEMP_LEFT.res XOR TEMP_RIGHT.res AS res FROM (SELECT TRUE AS res) AS TEMP_LEFT JOIN (SELECT FALSE AS res) AS TEMP_RIGHT
==============================================
not true
SELECT NOT TRUE AS res
==============================================
Car::allInstances()
SELECT Car_ref AS res FROM Car
==============================================
Car::allInstances()->size()
SELECT COUNT(Car_ref) AS res FROM Car
==============================================
Car::allInstances()->isUnique()
null
==============================================
Car::allInstances()->isEmpty()
SELECT COUNT(Car_ref) = 0 AS res FROM Car
==============================================
Car::allInstances()->notEmpty()
SELECT COUNT(Car_ref) > 0 AS res FROM Car
==============================================
Car::allInstances()->collect(c|'Hoang')
SELECT TEMP_collect_body.res AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c JOIN (SELECT 'Hoang' AS res) AS TEMP_collect_body
==============================================
Car::allInstances()->collect(c|c)
SELECT TEMP_collect_body.res AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c JOIN (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_c.ref_c
==============================================
Car::allInstances()->collect(c|c.Car:model)
SELECT TEMP_collect_body.res AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c JOIN (SELECT Car.model AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_c.ref_c
==============================================
Car::allInstances()->collect(c|c.Car:owners)
SELECT TEMP_collect_body.res AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c JOIN (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_c.ref_c
==============================================
Car::allInstances()->collect(c|c.Car:model = 'noMatch')
SELECT TEMP_collect_body.res AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c JOIN (SELECT TEMP_LEFT.res = TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c FROM (SELECT Car.model AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_LEFT JOIN (SELECT 'noMatch' AS res) AS TEMP_RIGHT) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_c.ref_c
==============================================
Car::allInstances()->forAll(c|c.Car:model = 'noMatch')
SELECT TEMP_forAll_count_source.res = TEMP_forAll_count_body.res AS res FROM (SELECT COUNT(*) AS res FROM Car) AS TEMP_forAll_count_source JOIN (SELECT COUNT(*) AS res FROM (SELECT TEMP_LEFT.res = TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c FROM (SELECT Car.model AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_LEFT JOIN (SELECT 'noMatch' AS res) AS TEMP_RIGHT) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1) AS TEMP_forAll_count_body
==============================================
Car::allInstances()->exists(c|c.Car:color = 'Black')
SELECT COUNT(*) > 0 AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_exists_var_c JOIN (SELECT TEMP_LEFT.res = TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c FROM (SELECT Car.color AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_LEFT JOIN (SELECT 'Black' AS res) AS TEMP_RIGHT) AS TEMP_exists_body ON TEMP_exists_body.ref_c = TEMP_exists_var_c.ref_c WHERE TEMP_exists_body.res = 1
==============================================
Car::allInstances()->select(c|c.Car:color = 'Red')
SELECT TEMP_select_var_c.ref_c AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_select_var_c JOIN (SELECT TEMP_LEFT.res = TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c FROM (SELECT Car.color AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_LEFT JOIN (SELECT 'Red' AS res) AS TEMP_RIGHT) AS TEMP_select_body ON TEMP_select_body.ref_c = TEMP_select_var_c.ref_c WHERE TEMP_select_body.res = 1
==============================================
Car::allInstances()->collect(c|Car::allInstances())
SELECT TEMP_collect_body.res AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c JOIN (SELECT Car_ref AS res FROM Car) AS TEMP_collect_body
==============================================
Car::allInstances()->collect(c|c.Car:model)->size()
SELECT COUNT(TEMP_collect_body.res) AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c LEFT JOIN (SELECT Car.model AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_c.ref_c
==============================================
Car::allInstances()->collect(c|c.Car:model)->size() = 2
SELECT TEMP_LEFT.res = TEMP_RIGHT.res AS res FROM (SELECT COUNT(TEMP_collect_body.res) AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c LEFT JOIN (SELECT Car.model AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_c.ref_c) AS TEMP_LEFT JOIN (SELECT 2 AS res) AS TEMP_RIGHT
==============================================
Car::allInstances()->collect(c|c.Car:owners->size())
SELECT TEMP_collect_body.res AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c JOIN (SELECT COUNT(Ownership.owners) AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c LEFT JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c GROUP BY TEMP_c.ref_c) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_c.ref_c
==============================================
Car::allInstances()->collect(c|c.Car:owners->size())->size()
SELECT COUNT(TEMP_collect_body.res) AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c LEFT JOIN (SELECT COUNT(Ownership.owners) AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c LEFT JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c GROUP BY TEMP_c.ref_c) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_c.ref_c
==============================================
Car::allInstances()->forAll(c|c.Car:owners->size() = 1)
SELECT TEMP_forAll_count_source.res = TEMP_forAll_count_body.res AS res FROM (SELECT COUNT(*) AS res FROM Car) AS TEMP_forAll_count_source JOIN (SELECT COUNT(*) AS res FROM (SELECT TEMP_LEFT.res = TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c FROM (SELECT COUNT(Ownership.owners) AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c LEFT JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c GROUP BY TEMP_c.ref_c) AS TEMP_LEFT JOIN (SELECT 1 AS res) AS TEMP_RIGHT) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1) AS TEMP_forAll_count_body
==============================================
Car::allInstances()->exists(c|c.Car:owners->size() = 1)
SELECT COUNT(*) > 0 AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_exists_var_c JOIN (SELECT TEMP_LEFT.res = TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c FROM (SELECT COUNT(Ownership.owners) AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c LEFT JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c GROUP BY TEMP_c.ref_c) AS TEMP_LEFT JOIN (SELECT 1 AS res) AS TEMP_RIGHT) AS TEMP_exists_body ON TEMP_exists_body.ref_c = TEMP_exists_var_c.ref_c WHERE TEMP_exists_body.res = 1
==============================================
Car::allInstances()->select(c|c.Car:owners->size() = 1)
SELECT TEMP_select_var_c.ref_c AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_select_var_c JOIN (SELECT TEMP_LEFT.res = TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c FROM (SELECT COUNT(Ownership.owners) AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c LEFT JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c GROUP BY TEMP_c.ref_c) AS TEMP_LEFT JOIN (SELECT 1 AS res) AS TEMP_RIGHT) AS TEMP_select_body ON TEMP_select_body.ref_c = TEMP_select_var_c.ref_c WHERE TEMP_select_body.res = 1
==============================================
Car::allInstances()->collect(c|c.Car:owners->size() = 1)
SELECT TEMP_collect_body.res AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c JOIN (SELECT TEMP_LEFT.res = TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c FROM (SELECT COUNT(Ownership.owners) AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c LEFT JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c GROUP BY TEMP_c.ref_c) AS TEMP_LEFT JOIN (SELECT 1 AS res) AS TEMP_RIGHT) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_c.ref_c
==============================================
Car::allInstances()->forAll(c|c.Car:model <> c.Car:color)
SELECT TEMP_forAll_count_source.res = TEMP_forAll_count_body.res AS res FROM (SELECT COUNT(*) AS res FROM Car) AS TEMP_forAll_count_source JOIN (SELECT COUNT(*) AS res FROM (SELECT TEMP_LEFT.res <> TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c FROM (SELECT Car.model AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_LEFT JOIN (SELECT Car.color AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_RIGHT ON TEMP_LEFT.ref_c = TEMP_RIGHT.ref_c) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1) AS TEMP_forAll_count_body
==============================================
Car::allInstances()->exists(c|c.Car:model <> c.Car:color)
SELECT COUNT(*) > 0 AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_exists_var_c JOIN (SELECT TEMP_LEFT.res <> TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c FROM (SELECT Car.model AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_LEFT JOIN (SELECT Car.color AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_RIGHT ON TEMP_LEFT.ref_c = TEMP_RIGHT.ref_c) AS TEMP_exists_body ON TEMP_exists_body.ref_c = TEMP_exists_var_c.ref_c WHERE TEMP_exists_body.res = 1
==============================================
Car::allInstances()->select(c|c.Car:model <> c.Car:color)
SELECT TEMP_select_var_c.ref_c AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_select_var_c JOIN (SELECT TEMP_LEFT.res <> TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c FROM (SELECT Car.model AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_LEFT JOIN (SELECT Car.color AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_RIGHT ON TEMP_LEFT.ref_c = TEMP_RIGHT.ref_c) AS TEMP_select_body ON TEMP_select_body.ref_c = TEMP_select_var_c.ref_c WHERE TEMP_select_body.res = 1
==============================================
Car::allInstances()->collect(c|c.Car:model <> c.Car:color)
SELECT TEMP_collect_body.res AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c JOIN (SELECT TEMP_LEFT.res <> TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c FROM (SELECT Car.model AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_LEFT JOIN (SELECT Car.color AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_RIGHT ON TEMP_LEFT.ref_c = TEMP_RIGHT.ref_c) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_c.ref_c
==============================================
Car::allInstances()->forAll(c|c.Car:owners->forAll(p|p.Person:age > 10))
SELECT TEMP_forAll_count_source.res = TEMP_forAll_count_body.res AS res FROM (SELECT COUNT(*) AS res FROM Car) AS TEMP_forAll_count_source JOIN (SELECT COUNT(*) AS res FROM (SELECT CASE WHEN TEMP_forAll_count_source.res = 0 THEN 1 ELSE TEMP_forAll_count_source.res = TEMP_forAll_count_body.res END AS res, TEMP_forAll_count_source.ref_c AS ref_c FROM (SELECT COUNT(TEMP_forAll_source_p.ref_p) AS res, TEMP_forAll_source_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_forAll_source_c LEFT JOIN (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_forAll_source_p ON TEMP_forAll_source_c.ref_c = TEMP_forAll_source_p.ref_c GROUP BY ref_c) AS TEMP_forAll_count_source LEFT JOIN (SELECT COUNT(*) AS res, TEMP_forAll_body.ref_c AS ref_c FROM (SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.age AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT 10 AS res) AS TEMP_RIGHT) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_forAll_count_source.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1) AS TEMP_forAll_count_body
==============================================
Car::allInstances()->forAll(c|c.Car:owners->exists(p|p.Person:age > 10))
SELECT TEMP_forAll_count_source.res = TEMP_forAll_count_body.res AS res FROM (SELECT COUNT(*) AS res FROM Car) AS TEMP_forAll_count_source JOIN (SELECT COUNT(*) AS res FROM (SELECT TEMP_forAll_count_body.ref_c IS NOT NULL AS res, TEMP_exists_var_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_exists_var_c LEFT JOIN (SELECT COUNT(*) AS res, TEMP_exists_body_bool_exp.ref_c AS ref_c FROM (SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.age AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT 10 AS res) AS TEMP_RIGHT) AS TEMP_exists_body_bool_exp WHERE TEMP_exists_body_bool_exp.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_exists_var_c.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1) AS TEMP_forAll_count_body
==============================================
Car::allInstances()->exists(c|c.Car:owners->forAll(p|p.Person:age > 10))
SELECT COUNT(*) > 0 AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_exists_var_c JOIN (SELECT CASE WHEN TEMP_forAll_count_source.res = 0 THEN 1 ELSE TEMP_forAll_count_source.res = TEMP_forAll_count_body.res END AS res, TEMP_forAll_count_source.ref_c AS ref_c FROM (SELECT COUNT(TEMP_forAll_source_p.ref_p) AS res, TEMP_forAll_source_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_forAll_source_c LEFT JOIN (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_forAll_source_p ON TEMP_forAll_source_c.ref_c = TEMP_forAll_source_p.ref_c GROUP BY ref_c) AS TEMP_forAll_count_source LEFT JOIN (SELECT COUNT(*) AS res, TEMP_forAll_body.ref_c AS ref_c FROM (SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.age AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT 10 AS res) AS TEMP_RIGHT) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_forAll_count_source.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_exists_body ON TEMP_exists_body.ref_c = TEMP_exists_var_c.ref_c WHERE TEMP_exists_body.res = 1
==============================================
Car::allInstances()->exists(c|c.Car:owners->exists(p|p.Person:age > 10))
SELECT COUNT(*) > 0 AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_exists_var_c JOIN (SELECT TEMP_forAll_count_body.ref_c IS NOT NULL AS res, TEMP_exists_var_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_exists_var_c LEFT JOIN (SELECT COUNT(*) AS res, TEMP_exists_body_bool_exp.ref_c AS ref_c FROM (SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.age AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT 10 AS res) AS TEMP_RIGHT) AS TEMP_exists_body_bool_exp WHERE TEMP_exists_body_bool_exp.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_exists_var_c.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_exists_body ON TEMP_exists_body.ref_c = TEMP_exists_var_c.ref_c WHERE TEMP_exists_body.res = 1
==============================================
Car::allInstances()->select(c|c.Car:owners->forAll(p|p.Person:age > 10))
SELECT TEMP_select_var_c.ref_c AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_select_var_c JOIN (SELECT CASE WHEN TEMP_forAll_count_source.res = 0 THEN 1 ELSE TEMP_forAll_count_source.res = TEMP_forAll_count_body.res END AS res, TEMP_forAll_count_source.ref_c AS ref_c FROM (SELECT COUNT(TEMP_forAll_source_p.ref_p) AS res, TEMP_forAll_source_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_forAll_source_c LEFT JOIN (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_forAll_source_p ON TEMP_forAll_source_c.ref_c = TEMP_forAll_source_p.ref_c GROUP BY ref_c) AS TEMP_forAll_count_source LEFT JOIN (SELECT COUNT(*) AS res, TEMP_forAll_body.ref_c AS ref_c FROM (SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.age AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT 10 AS res) AS TEMP_RIGHT) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_forAll_count_source.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_select_body ON TEMP_select_body.ref_c = TEMP_select_var_c.ref_c WHERE TEMP_select_body.res = 1
==============================================
Car::allInstances()->collect(c|c.Car:owners->forAll(p|p.Person:age > 10))
SELECT TEMP_collect_body.res AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c JOIN (SELECT CASE WHEN TEMP_forAll_count_source.res = 0 THEN 1 ELSE TEMP_forAll_count_source.res = TEMP_forAll_count_body.res END AS res, TEMP_forAll_count_source.ref_c AS ref_c FROM (SELECT COUNT(TEMP_forAll_source_p.ref_p) AS res, TEMP_forAll_source_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_forAll_source_c LEFT JOIN (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_forAll_source_p ON TEMP_forAll_source_c.ref_c = TEMP_forAll_source_p.ref_c GROUP BY ref_c) AS TEMP_forAll_count_source LEFT JOIN (SELECT COUNT(*) AS res, TEMP_forAll_body.ref_c AS ref_c FROM (SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.age AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT 10 AS res) AS TEMP_RIGHT) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_forAll_count_source.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_c.ref_c
==============================================
Car::allInstances()->select(c|c.Car:owners->exists(p|p.Person:age > 10))
SELECT TEMP_select_var_c.ref_c AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_select_var_c JOIN (SELECT TEMP_forAll_count_body.ref_c IS NOT NULL AS res, TEMP_exists_var_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_exists_var_c LEFT JOIN (SELECT COUNT(*) AS res, TEMP_exists_body_bool_exp.ref_c AS ref_c FROM (SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.age AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT 10 AS res) AS TEMP_RIGHT) AS TEMP_exists_body_bool_exp WHERE TEMP_exists_body_bool_exp.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_exists_var_c.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_select_body ON TEMP_select_body.ref_c = TEMP_select_var_c.ref_c WHERE TEMP_select_body.res = 1
==============================================
Car::allInstances()->collect(c|c.Car:owners->exists(p|p.Person:age > 10))
SELECT TEMP_collect_body.res AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c JOIN (SELECT TEMP_forAll_count_body.ref_c IS NOT NULL AS res, TEMP_exists_var_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_exists_var_c LEFT JOIN (SELECT COUNT(*) AS res, TEMP_exists_body_bool_exp.ref_c AS ref_c FROM (SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.age AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT 10 AS res) AS TEMP_RIGHT) AS TEMP_exists_body_bool_exp WHERE TEMP_exists_body_bool_exp.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_exists_var_c.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_c.ref_c
==============================================
Car::allInstances()->forAll(c|c.Car:owners->forAll(p|p.Person:age > c.Car:age))
SELECT TEMP_forAll_count_source.res = TEMP_forAll_count_body.res AS res FROM (SELECT COUNT(*) AS res FROM Car) AS TEMP_forAll_count_source JOIN (SELECT COUNT(*) AS res FROM (SELECT CASE WHEN TEMP_forAll_count_source.res = 0 THEN 1 ELSE TEMP_forAll_count_source.res = TEMP_forAll_count_body.res END AS res, TEMP_forAll_count_source.ref_c AS ref_c FROM (SELECT COUNT(TEMP_forAll_source_p.ref_p) AS res, TEMP_forAll_source_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_forAll_source_c LEFT JOIN (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_forAll_source_p ON TEMP_forAll_source_c.ref_c = TEMP_forAll_source_p.ref_c GROUP BY ref_c) AS TEMP_forAll_count_source LEFT JOIN (SELECT COUNT(*) AS res, TEMP_forAll_body.ref_c AS ref_c FROM (SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.age AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT Car.age AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_RIGHT ON TEMP_LEFT.ref_c = TEMP_RIGHT.ref_c) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_forAll_count_source.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1) AS TEMP_forAll_count_body
==============================================
Car::allInstances()->forAll(c|c.Car:owners->exists(p|p.Person:age > c.Car:age))
SELECT TEMP_forAll_count_source.res = TEMP_forAll_count_body.res AS res FROM (SELECT COUNT(*) AS res FROM Car) AS TEMP_forAll_count_source JOIN (SELECT COUNT(*) AS res FROM (SELECT TEMP_forAll_count_body.ref_c IS NOT NULL AS res, TEMP_exists_var_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_exists_var_c LEFT JOIN (SELECT COUNT(*) AS res, TEMP_exists_body_bool_exp.ref_c AS ref_c FROM (SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.age AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT Car.age AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_RIGHT ON TEMP_LEFT.ref_c = TEMP_RIGHT.ref_c) AS TEMP_exists_body_bool_exp WHERE TEMP_exists_body_bool_exp.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_exists_var_c.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1) AS TEMP_forAll_count_body
==============================================
Car::allInstances()->exists(c|c.Car:owners->forAll(p|p.Person:age > c.Car:age))
SELECT COUNT(*) > 0 AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_exists_var_c JOIN (SELECT CASE WHEN TEMP_forAll_count_source.res = 0 THEN 1 ELSE TEMP_forAll_count_source.res = TEMP_forAll_count_body.res END AS res, TEMP_forAll_count_source.ref_c AS ref_c FROM (SELECT COUNT(TEMP_forAll_source_p.ref_p) AS res, TEMP_forAll_source_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_forAll_source_c LEFT JOIN (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_forAll_source_p ON TEMP_forAll_source_c.ref_c = TEMP_forAll_source_p.ref_c GROUP BY ref_c) AS TEMP_forAll_count_source LEFT JOIN (SELECT COUNT(*) AS res, TEMP_forAll_body.ref_c AS ref_c FROM (SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.age AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT Car.age AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_RIGHT ON TEMP_LEFT.ref_c = TEMP_RIGHT.ref_c) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_forAll_count_source.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_exists_body ON TEMP_exists_body.ref_c = TEMP_exists_var_c.ref_c WHERE TEMP_exists_body.res = 1
==============================================
Car::allInstances()->exists(c|c.Car:owners->exists(p|p.Person:age > c.Car:age))
SELECT COUNT(*) > 0 AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_exists_var_c JOIN (SELECT TEMP_forAll_count_body.ref_c IS NOT NULL AS res, TEMP_exists_var_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_exists_var_c LEFT JOIN (SELECT COUNT(*) AS res, TEMP_exists_body_bool_exp.ref_c AS ref_c FROM (SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.age AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT Car.age AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_RIGHT ON TEMP_LEFT.ref_c = TEMP_RIGHT.ref_c) AS TEMP_exists_body_bool_exp WHERE TEMP_exists_body_bool_exp.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_exists_var_c.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_exists_body ON TEMP_exists_body.ref_c = TEMP_exists_var_c.ref_c WHERE TEMP_exists_body.res = 1
==============================================
Car::allInstances()->select(c|c.Car:owners->forAll(p|p.Person:age > c.Car:age))
SELECT TEMP_select_var_c.ref_c AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_select_var_c JOIN (SELECT CASE WHEN TEMP_forAll_count_source.res = 0 THEN 1 ELSE TEMP_forAll_count_source.res = TEMP_forAll_count_body.res END AS res, TEMP_forAll_count_source.ref_c AS ref_c FROM (SELECT COUNT(TEMP_forAll_source_p.ref_p) AS res, TEMP_forAll_source_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_forAll_source_c LEFT JOIN (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_forAll_source_p ON TEMP_forAll_source_c.ref_c = TEMP_forAll_source_p.ref_c GROUP BY ref_c) AS TEMP_forAll_count_source LEFT JOIN (SELECT COUNT(*) AS res, TEMP_forAll_body.ref_c AS ref_c FROM (SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.age AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT Car.age AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_RIGHT ON TEMP_LEFT.ref_c = TEMP_RIGHT.ref_c) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_forAll_count_source.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_select_body ON TEMP_select_body.ref_c = TEMP_select_var_c.ref_c WHERE TEMP_select_body.res = 1
==============================================
Car::allInstances()->collect(c|c.Car:owners->forAll(p|p.Person:age > c.Car:age))
SELECT TEMP_collect_body.res AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c JOIN (SELECT CASE WHEN TEMP_forAll_count_source.res = 0 THEN 1 ELSE TEMP_forAll_count_source.res = TEMP_forAll_count_body.res END AS res, TEMP_forAll_count_source.ref_c AS ref_c FROM (SELECT COUNT(TEMP_forAll_source_p.ref_p) AS res, TEMP_forAll_source_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_forAll_source_c LEFT JOIN (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_forAll_source_p ON TEMP_forAll_source_c.ref_c = TEMP_forAll_source_p.ref_c GROUP BY ref_c) AS TEMP_forAll_count_source LEFT JOIN (SELECT COUNT(*) AS res, TEMP_forAll_body.ref_c AS ref_c FROM (SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.age AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT Car.age AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_RIGHT ON TEMP_LEFT.ref_c = TEMP_RIGHT.ref_c) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_forAll_count_source.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_c.ref_c
==============================================
Car::allInstances()->select(c|c.Car:owners->exists(p|p.Person:age > c.Car:age))
SELECT TEMP_select_var_c.ref_c AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_select_var_c JOIN (SELECT TEMP_forAll_count_body.ref_c IS NOT NULL AS res, TEMP_exists_var_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_exists_var_c LEFT JOIN (SELECT COUNT(*) AS res, TEMP_exists_body_bool_exp.ref_c AS ref_c FROM (SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.age AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT Car.age AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_RIGHT ON TEMP_LEFT.ref_c = TEMP_RIGHT.ref_c) AS TEMP_exists_body_bool_exp WHERE TEMP_exists_body_bool_exp.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_exists_var_c.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_select_body ON TEMP_select_body.ref_c = TEMP_select_var_c.ref_c WHERE TEMP_select_body.res = 1
==============================================
Car::allInstances()->collect(c|c.Car:owners->exists(p|p.Person:age > c.Car:age))
SELECT TEMP_collect_body.res AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c JOIN (SELECT TEMP_forAll_count_body.ref_c IS NOT NULL AS res, TEMP_exists_var_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_exists_var_c LEFT JOIN (SELECT COUNT(*) AS res, TEMP_exists_body_bool_exp.ref_c AS ref_c FROM (SELECT TEMP_LEFT.res > TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.age AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT Car.age AS res, TEMP_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Car ON Car.Car_ref = TEMP_c.ref_c) AS TEMP_RIGHT ON TEMP_LEFT.ref_c = TEMP_RIGHT.ref_c) AS TEMP_exists_body_bool_exp WHERE TEMP_exists_body_bool_exp.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_exists_var_c.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_c.ref_c
==============================================
Car::allInstances()->forAll(c|c.Car:owners->forAll(p|p.Person:ownedCars->forAll(x|x=c)))
SELECT TEMP_forAll_count_source.res = TEMP_forAll_count_body.res AS res FROM (SELECT COUNT(*) AS res FROM Car) AS TEMP_forAll_count_source JOIN (SELECT COUNT(*) AS res FROM (SELECT CASE WHEN TEMP_forAll_count_source.res = 0 THEN 1 ELSE TEMP_forAll_count_source.res = TEMP_forAll_count_body.res END AS res, TEMP_forAll_count_source.ref_c AS ref_c FROM (SELECT COUNT(TEMP_forAll_source_p.ref_p) AS res, TEMP_forAll_source_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_forAll_source_c LEFT JOIN (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_forAll_source_p ON TEMP_forAll_source_c.ref_c = TEMP_forAll_source_p.ref_c GROUP BY ref_c) AS TEMP_forAll_count_source LEFT JOIN (SELECT COUNT(*) AS res, TEMP_forAll_body.ref_c AS ref_c FROM (SELECT CASE WHEN TEMP_forAll_count_source.res = 0 THEN 1 ELSE TEMP_forAll_count_source.res = TEMP_forAll_count_body.res END AS res, TEMP_forAll_count_source.ref_c AS ref_c, TEMP_forAll_count_source.ref_p AS ref_p FROM (SELECT COUNT(TEMP_forAll_source_x.ref_x) AS res, TEMP_forAll_source_p.ref_c AS ref_c, TEMP_forAll_source_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_forAll_source_p LEFT JOIN (SELECT Ownership.ownedCars AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p, Ownership.ownedCars AS ref_x FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Ownership ON Ownership.owners = TEMP_p.ref_p) AS TEMP_forAll_source_x ON TEMP_forAll_source_p.ref_c = TEMP_forAll_source_x.ref_c AND TEMP_forAll_source_p.ref_p = TEMP_forAll_source_x.ref_p GROUP BY ref_c, ref_p) AS TEMP_forAll_count_source LEFT JOIN (SELECT COUNT(*) AS res, TEMP_forAll_body.ref_c AS ref_c, TEMP_forAll_body.ref_p AS ref_p FROM (SELECT TEMP_LEFT.res = TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p, TEMP_LEFT.ref_x AS ref_x FROM (SELECT Ownership.ownedCars AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p, Ownership.ownedCars AS ref_x FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Ownership ON Ownership.owners = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_RIGHT ON TEMP_LEFT.ref_c = TEMP_RIGHT.ref_c) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1 GROUP BY ref_c, ref_p) AS TEMP_forAll_count_body ON TEMP_forAll_count_source.ref_c = TEMP_forAll_count_body.ref_c AND TEMP_forAll_count_source.ref_p = TEMP_forAll_count_body.ref_p GROUP BY ref_c, ref_p) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_forAll_count_source.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1) AS TEMP_forAll_count_body
==============================================
Car::allInstances()->forAll(c|c.Car:owners->forAll(p|p.Person:ownedCars->exists(x|x=c)))
SELECT TEMP_forAll_count_source.res = TEMP_forAll_count_body.res AS res FROM (SELECT COUNT(*) AS res FROM Car) AS TEMP_forAll_count_source JOIN (SELECT COUNT(*) AS res FROM (SELECT CASE WHEN TEMP_forAll_count_source.res = 0 THEN 1 ELSE TEMP_forAll_count_source.res = TEMP_forAll_count_body.res END AS res, TEMP_forAll_count_source.ref_c AS ref_c FROM (SELECT COUNT(TEMP_forAll_source_p.ref_p) AS res, TEMP_forAll_source_c.ref_c AS ref_c FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_forAll_source_c LEFT JOIN (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_forAll_source_p ON TEMP_forAll_source_c.ref_c = TEMP_forAll_source_p.ref_c GROUP BY ref_c) AS TEMP_forAll_count_source LEFT JOIN (SELECT COUNT(*) AS res, TEMP_forAll_body.ref_c AS ref_c FROM (SELECT TEMP_forAll_count_body.ref_p IS NOT NULL AS res, TEMP_exists_var_p.ref_c AS ref_c, TEMP_exists_var_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_exists_var_p LEFT JOIN (SELECT COUNT(*) AS res, TEMP_exists_body_bool_exp.ref_c AS ref_c, TEMP_exists_body_bool_exp.ref_p AS ref_p FROM (SELECT TEMP_LEFT.res = TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p, TEMP_LEFT.ref_x AS ref_x FROM (SELECT Ownership.ownedCars AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p, Ownership.ownedCars AS ref_x FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Ownership ON Ownership.owners = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_RIGHT ON TEMP_LEFT.ref_c = TEMP_RIGHT.ref_c) AS TEMP_exists_body_bool_exp WHERE TEMP_exists_body_bool_exp.res = 1 GROUP BY ref_c, ref_p) AS TEMP_forAll_count_body ON TEMP_exists_var_p.ref_c = TEMP_forAll_count_body.ref_c AND TEMP_exists_var_p.ref_p = TEMP_forAll_count_body.ref_p GROUP BY ref_c, ref_p) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1 GROUP BY ref_c) AS TEMP_forAll_count_body ON TEMP_forAll_count_source.ref_c = TEMP_forAll_count_body.ref_c GROUP BY ref_c) AS TEMP_forAll_body WHERE TEMP_forAll_body.res = 1) AS TEMP_forAll_count_body
==============================================
Car::allInstances()->collect(c|c.Car:owners->collect(p|p))
SELECT TEMP_collect_body.res AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c JOIN (SELECT TEMP_collect_body.res AS res, TEMP_collect_var_p.ref_c AS ref_c FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_collect_var_p JOIN (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_p.ref_c AND TEMP_collect_body.ref_p = TEMP_collect_var_p.ref_p) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_c.ref_c
==============================================
Car::allInstances()->collect(c|c.Car:owners->collect(p|p.Person:ownedCars->size()))
SELECT TEMP_collect_body.res AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_collect_var_c JOIN (SELECT TEMP_collect_body.res AS res, TEMP_collect_var_p.ref_c AS ref_c FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_collect_var_p JOIN (SELECT COUNT(Ownership.ownedCars) AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p LEFT JOIN Ownership ON Ownership.owners = TEMP_p.ref_p GROUP BY TEMP_p.ref_c, TEMP_p.ref_p) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_p.ref_c AND TEMP_collect_body.ref_p = TEMP_collect_var_p.ref_p) AS TEMP_collect_body ON TEMP_collect_body.ref_c = TEMP_collect_var_c.ref_c
==============================================
Car::allInstances()->select(c|c.Car:owners->select(p|p.Person:name='Hoang')->size()=1)
SELECT TEMP_select_var_c.ref_c AS res FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_select_var_c JOIN (SELECT TEMP_LEFT.res = TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c FROM (SELECT COUNT(TEMP_select_var_p.ref_p) AS res, TEMP_select_var_p.ref_c AS ref_c FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_select_var_p LEFT JOIN (SELECT TEMP_LEFT.res = TEMP_RIGHT.res AS res, TEMP_LEFT.ref_c AS ref_c, TEMP_LEFT.ref_p AS ref_p FROM (SELECT Person.name AS res, TEMP_p.ref_c AS ref_c, TEMP_p.ref_p AS ref_p FROM (SELECT Ownership.owners AS res, TEMP_c.ref_c AS ref_c, Ownership.owners AS ref_p FROM (SELECT Car_ref AS res, Car_ref AS ref_c FROM Car) AS TEMP_c JOIN Ownership ON Ownership.ownedCars = TEMP_c.ref_c) AS TEMP_p JOIN Person ON Person.Person_ref = TEMP_p.ref_p) AS TEMP_LEFT JOIN (SELECT 'Hoang' AS res) AS TEMP_RIGHT) AS TEMP_select_body ON TEMP_select_body.ref_c = TEMP_select_var_p.ref_c AND TEMP_select_body.ref_p = TEMP_select_var_p.ref_p WHERE TEMP_select_body.res = 1 GROUP BY TEMP_select_var_p.ref_c) AS TEMP_LEFT JOIN (SELECT 1 AS res) AS TEMP_RIGHT) AS TEMP_select_body ON TEMP_select_body.ref_c = TEMP_select_var_c.ref_c WHERE TEMP_select_body.res = 1
==============================================
